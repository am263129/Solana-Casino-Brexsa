"use client";

import Link from "next/link";
import Image from "next/image";
import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";
import { usePathname } from "next/navigation";

type NavLinkProps = {
  href: string;
  children: React.ReactNode;
  className?: string;
};

const NavLink = ({ href, children, className }: NavLinkProps) => {
  const pathname = usePathname();
  const isActive = pathname === href || (href !== "/" && pathname.startsWith(href));

  return (
    <Link
      href={href}
      className={cn(
        "flex items-center gap-2 px-3 py-2 rounded-md font-medium transition-colors",
        isActive ? "text-white bg-solpot-purple/30" : "text-gray-300 hover:text-white hover:bg-solpot-purple/20",
        className
      )}
    >
      {children}
    </Link>
  );
};

export function Navbar() {
  return (
    <header className="relative z-10 bg-solpot-black bg-opacity-80 border-b border-solpot-gray-dark/50 backdrop-blur-sm">
      <div className="absolute inset-0 bg-header-glow bg-no-repeat bg-center opacity-20" />
      <div className="container flex h-16 items-center px-4 sm:px-6 lg:px-8 justify-between relative">
        <div className="flex items-center">
          <Link href="/" className="flex items-center">
            <div className="relative h-10 w-10 mr-1">
              <Image
                src="/images/logo.gif"
                alt="Solpot"
                fill
                className="object-contain"
              />
            </div>
            <Image
              src="/images/logo.svg"
              alt="Solpot"
              width={120}
              height={40}
              className="hidden sm:block"
            />
          </Link>

          <div className="ml-8 hidden md:flex items-center space-x-1">
            <NavLink href="/">
              <svg viewBox="0 0 24 24" className="w-5 h-5" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 19H9V13H15V19H18V10L12 5.5L6 10V19ZM6 21C5.45 21 4.979 20.804 4.588 20.413C4.196 20.021 4 19.55 4 19V10C4 9.71667 4.075 9.45 4.225 9.2C4.375 8.95 4.575 8.75 4.825 8.6L10.825 4.1C10.9917 3.98333 11.175 3.896 11.375 3.838C11.575 3.77933 11.7833 3.75 12 3.75C12.2167 3.75 12.425 3.77933 12.625 3.838C12.825 3.896 13.0083 3.98333 13.175 4.1L19.175 8.6C19.425 8.75 19.625 8.95 19.775 9.2C19.925 9.45 20 9.71667 20 10V19C20 19.55 19.804 20.021 19.413 20.413C19.021 20.804 18.55 21 18 21H13V15H11V21H6Z" fill="currentColor"/>
              </svg>
              <span>Jackpot</span>
            </NavLink>
            <NavLink href="/coinflip">
              <svg viewBox="0 0 24 24" className="w-5 h-5" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 21.95C10.5833 21.95 9.23333 21.6667 7.95 21.1C6.66667 20.5333 5.55833 19.7583 4.625 18.775C3.69167 17.7917 2.95833 16.675 2.425 15.425C1.89167 14.175 1.61667 12.85 1.6 11.45C1.6 10.0167 1.88333 8.67067 2.45 7.412C3.01667 6.154 3.8 5.042 4.8 4.075C5.8 3.10833 6.93333 2.354 8.2 1.812C9.46667 1.27067 10.7833 1 12.15 1C13.5167 1 14.8 1.27933 16 1.838C17.2 2.396 18.2333 3.13333 19.1 4.05C19.9667 4.96667 20.65 6.03333 21.15 7.25C21.65 8.46667 21.9 9.75 21.9 11.1C21.9 12.4833 21.6167 13.7833 21.05 15C20.4833 16.2167 19.7083 17.275 18.725 18.175C17.7417 19.075 16.625 19.7833 15.375 20.3C14.125 20.8167 13.0333 21.0917 12.1 21.125L12 21.95ZM12 19.95C13.2167 19.95 14.3667 19.7083 15.45 19.225C16.5333 18.7417 17.4667 18.0917 18.25 17.275C19.0333 16.4583 19.65 15.5083 20.1 14.425C20.55 13.3417 20.7833 12.1833 20.8 10.95C20.8 9.71667 20.5583 8.56667 20.075 7.5C19.5917 6.43333 18.9417 5.5 18.125 4.7C17.3083 3.9 16.3583 3.275 15.275 2.825C14.1917 2.375 13.0333 2.15 11.8 2.15C10.5667 2.15 9.41667 2.39167 8.35 2.875C7.28333 3.35833 6.35 4.00833 5.55 4.825C4.75 5.64167 4.125 6.59167 3.675 7.675C3.225 8.75833 3 9.9 3 11.1C3 12.3 3.23333 13.45 3.7 14.55C4.16667 15.65 4.79167 16.6167 5.575 17.45C6.35833 18.2833 7.28333 18.9417 8.35 19.425C9.41667 19.9083 10.55 20.15 11.75 20.15L12 19.95ZM8 16.8H16L14.75 15.15C14.45 14.75 14.1833 14.4 13.95 14.1C13.7167 13.8 13.5333 13.5083 13.4 13.225C13.2667 12.9417 13.175 12.6583 13.125 12.375C13.075 12.0917 13.05 11.7667 13.05 11.4V8.95H10.95V11.4C10.95 11.7667 10.925 12.0917 10.875 12.375C10.825 12.6583 10.7333 12.9417 10.6 13.225C10.4667 13.5083 10.2833 13.8 10.05 14.1C9.81667 14.4 9.55 14.75 9.25 15.15L8 16.8Z" fill="currentColor"/>
              </svg>
              <span>Coinflip</span>
            </NavLink>
            <NavLink href="/affiliates">
              <svg viewBox="0 0 24 24" className="w-5 h-5" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.975 21.8L8.1 17.9C7.88333 17.6833 7.73333 17.425 7.65 17.125C7.56667 16.825 7.55 16.5167 7.6 16.2C6.45 15.9667 5.51667 15.3917 4.8 14.475C4.08333 13.5583 3.725 12.5 3.725 11.3C3.725 9.96667 4.17917 8.79167 5.0875 7.775C5.99583 6.75833 7.13333 6.16667 8.5 6V4H10.5V5.95C11.0667 5.96667 11.6167 6.075 12.15 6.275C12.6833 6.475 13.175 6.74167 13.625 7.075L12.375 9.025C12.0583 8.80833 11.7292 8.64583 11.3875 8.5375C11.0458 8.42917 10.7 8.375 10.35 8.375C9.46667 8.375 8.72917 8.65417 8.1375 9.2125C7.54583 9.77083 7.25 10.475 7.25 11.325C7.25 12.1583 7.54583 12.8583 8.1375 13.425C8.72917 13.9917 9.46667 14.275 10.35 14.275C10.3833 14.275 10.4125 14.2708 10.4375 14.2625C10.4625 14.2542 10.4833 14.25 10.5 14.25C10.5167 14.25 10.5417 14.25 10.575 14.25C10.6083 14.25 10.6333 14.2333 10.65 14.2C10.7333 14.1333 10.8333 14.0833 10.95 14.05C11.0667 14.0167 11.2 14 11.35 14C11.5 14 11.6333 14.0167 11.75 14.05C11.8667 14.0833 11.9667 14.1333 12.05 14.2C12.1 14.2333 12.125 14.25 12.125 14.25C12.125 14.25 12.15 14.25 12.2 14.25H13.8L17.825 18.3C18.0583 18.5333 18.2292 18.8125 18.3375 19.1375C18.4458 19.4625 18.5 19.8 18.5 20.15C18.5 20.7167 18.3083 21.1875 17.925 21.5625C17.5417 21.9375 17.0667 22.125 16.5 22.125C16.1667 22.125 15.8458 22.0583 15.5375 21.925C15.2292 21.7917 14.9583 21.6 14.725 21.35L11.975 18.6V21.8ZM16.5 20.125C16.6333 20.125 16.75 20.075 16.85 19.975C16.95 19.875 17 19.7583 17 19.625C17 19.4917 16.95 19.375 16.85 19.275C16.75 19.175 16.6333 19.125 16.5 19.125C16.3667 19.125 16.25 19.175 16.15 19.275C16.05 19.375 16 19.4917 16 19.625C16 19.7583 16.05 19.875 16.15 19.975C16.25 20.075 16.3667 20.125 16.5 20.125ZM19.475 15.15L15.45 11.125H15.4C15.4 11.125 15.3792 11.125 15.3375 11.125C15.2958 11.125 15.275 11.125 15.275 11.125C15.1917 11.0583 15.0917 11.0083 14.975 10.975C14.8583 10.9417 14.725 10.925 14.575 10.925C14.425 10.925 14.2917 10.9417 14.175 10.975C14.0583 11.0083 13.9583 11.0583 13.875 11.125C13.8583 11.1417 13.8333 11.1625 13.8 11.1875C13.7667 11.2125 13.7333 11.225 13.7 11.225C13.6667 11.225 13.6208 11.2208 13.5625 11.2125C13.5042 11.2042 13.45 11.2 13.4 11.2C12.55 11.2 11.8208 10.9167 11.2125 10.35C10.6042 9.78333 10.3 9.08333 10.3 8.25C10.3 7.41667 10.6167 6.70833 11.25 6.125C11.8833 5.54167 12.65 5.25 13.55 5.25C14.45 5.25 15.2167 5.54167 15.85 6.125C16.4833 6.70833 16.8 7.425 16.8 8.275C16.8 8.30833 16.7958 8.33333 16.7875 8.35C16.7792 8.36667 16.775 8.39167 16.775 8.425C16.775 8.45833 16.7625 8.49167 16.7375 8.525C16.7125 8.55833 16.7 8.58333 16.7 8.6V10.1L20.725 14.125C20.9417 14.3583 21.1042 14.625 21.2125 14.925C21.3208 15.225 21.375 15.5333 21.375 15.85C21.375 16.3833 21.1958 16.8333 20.8375 17.2C20.4792 17.5667 20.0333 17.75 19.5 17.75C19.1833 17.75 18.8833 17.6875 18.6 17.5625C18.3167 17.4375 18.0667 17.2583 17.85 17.025L14.2 13.375V16.575L19.475 15.15ZM19.5 15.75C19.6333 15.75 19.75 15.7 19.85 15.6C19.95 15.5 20 15.3833 20 15.25C20 15.1167 19.95 15 19.85 14.9C19.75 14.8 19.6333 14.75 19.5 14.75C19.3667 14.75 19.25 14.8 19.15 14.9C19.05 15 19 15.1167 19 15.25C19 15.3833 19.05 15.5 19.15 15.6C19.25 15.7 19.3667 15.75 19.5 15.75Z" fill="currentColor"/>
              </svg>
              <span>Affiliates</span>
            </NavLink>
          </div>
        </div>

        <div className="flex items-center gap-2">
          <div className="mr-2 text-right">
            <div className="text-sm text-gray-300">128,000+</div>
            <div className="text-xs text-gray-400">Total Bets</div>
          </div>
          <Button className="bg-solpot-purple hover:bg-solpot-purple/90 text-white">
            Connect
          </Button>
        </div>
      </div>
    </header>
  );
}
